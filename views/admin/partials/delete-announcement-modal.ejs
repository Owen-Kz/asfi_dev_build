<div class="modal fade" id="deleteAnnouncementModal" tabindex="-1" aria-labelledby="deleteAnnouncementLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			
			<!-- Modal header -->
			<div class="modal-header bg-danger">
				<h5 class="modal-title text-white" id="deleteAnnouncementLabel">Delete Announcement</h5>
				<button type="button" class="btn btn-sm btn-light mb-0" data-bs-dismiss="modal" aria-label="Close"><i class="bi bi-x-lg"></i></button>
			</div>

			<!-- Modal body -->
			<div class="modal-body">
				<p>Are you sure you want to delete this announcement?</p>
				<div class="alert alert-warning">
					<h6 class="mb-0">"Important System Maintenance"</h6>
					<small class="mb-0">This action cannot be undone.</small>
				</div>
			</div>

			<!-- Modal footer -->
			<div class="modal-footer">
				<button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete Announcement</button>
			</div>
		</div>
	</div>
</div>   



<script>
document.addEventListener('DOMContentLoaded', function () {
    const deleteModal = document.getElementById('deleteAnnouncementModal');
    const confirmBtn = document.getElementById('confirmDeleteBtn');

    deleteModal.addEventListener('show.bs.modal', function (event) {
        const button = event.relatedTarget; // Button that triggered the modal
        const announcementId = button.getAttribute('data-id');
        const announcementTitle = button.getAttribute('data-title');

        // Update the modal's title display
        const alertTitleEl = deleteModal.querySelector('.alert h6');
        alertTitleEl.textContent = announcementTitle || 'Untitled Announcement';

        // Store the ID in the confirm button so we can use it later
        confirmBtn.setAttribute('data-id', announcementId);
    });

    // Optional: attach delete action handler
    confirmBtn.addEventListener('click', function () {
        const announcementId = this.getAttribute('data-id');
        
        // Example: send delete request via fetch
        fetch(`/announcements/delete/${announcementId}`, {
            method: 'DELETE'
        })
        .then(res => res.json())
        .then(response => {
            console.log(response);
            // Reload page or remove the announcement from the DOM
            iziToast.success({
                title: 'Announcement Deleted',
                message: `The announcement "${response.title}" has been successfully deleted.`,
                position: 'topRight'
            });
            location.reload();
        })
        .catch(err => console.error(err));
    });
});
</script>
