<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Weperch Technologies Ltd">
	<meta name="description" content="ASFI, African Science Frontiers Initiative, African Scientists, African Scholars, Scholars, Education">
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href="/css/scholarProfile.css">
    <link rel="stylesheet" href="/css/general.css">
   
    
    <!-- Favicon -->
	<link rel="shortcut icon" href="https://res.cloudinary.com/dll8awuig/image/upload/v1741165624/asfi_icon_hv7hav.png">

    <link rel="stylesheet" href="/css/css/fontawesome.css">
    <link rel="stylesheet" href="/css/css/fontawesome-all.css">

    <link rel="stylesheet" href="/css/material-design-iconic-font.css">
    <!-- <link rel="stylesheet" href="/css/themify-icons.css"> -->
    <link rel="stylesheet" href="/css/weather-icons/css/weather-icons-core.css">

    <title><%= UserName %> | Profile Page</title>
     <!-- Dark mode -->
	 <script src="/js/colorTheme.js"></script>
</head>

<body>
<%- include ("loader") %>
	<input type="text" id="usernameContainer" value="<%= UserName %>" readonly hidden>
    

   <!-- Header START -->
   <%- include('header') %>
   <!-- Header END -->

<!-- **************** MAIN CONTENT START **************** -->
<main class="scholar_main">

	<!-- NAVIGATION BAR  -->
    <sidebar class="left-navigation-bar bg-shadow ">
		<%if(accountType == "scholar_account") {%>
			<%- include('scholarNavbar') %>
			<% } else if(accountType == "user_account"){%>
				<%- include ("navbar") %>
			<%} else if(accountType == "instructor_account") {%>
				<%- include ("instructorNavbar") %>
	
				<% } else if(accountType == "administrator") {%>
				   <%- include ("adminNavbar") %>
				   <% } %>
     </sidebar>
     <!-- END NAVIGATION BAR  -->
	
<!-- =======================
Page Banner START -->
<section class="pt-0">
	<!-- Main banner background image -->
	<div class="container-fluid px-0" style="margin-top: -20%;">
		<div class="bg-blue h-400px h-md-400px rounded-0 d-flex " style="background:url(/userUploads/profileCovers/<%=ProfileCover%>) no-repeat center center; background-size:cover;">
			<span class="edit-cover fas fa-pencil-alt"></span>
		</div>
	</div>
	<div class="container mt-n4">
		<div class="row">
			<!-- Profile banner START -->
			<div class="col-12 scholarProfile_container">
				<div class="card bg-transparent card-body p-0">
					<div class="row d-flex justify-content-between">
						<!-- Avatar -->
						<div class="col-auto mt-4 mt-md-0">
							<div class="avatar avatar-xxl mt-n3">
                                <% if(ProfileImage == "avatar.jpg"){ %>
								<img class="avatar-img rounded-circle border border-white border-3 shadow" src="https://eu.ui-avatars.com/api/?background=random&name=<%= FirstName %>+<%= LastName %>&font-size=0.5&rounded=true&size=128&background=333333&color=ffffff" alt='<%= ProfileImage %> '>
                                <% } else { %>

                                <img class="avatar-img rounded-circle border border-white border-3 shadow"
                                src="<%=ProfileImage%>" alt="<%=ProfileImage%>">
                                <% }%>
							</div>
						</div>
						<!-- Profile info -->
						<div class="col d-md-flex justify-content-between align-items-center mt-4">
							<div>
								<h1 class="my-1 fs-4"><%= FirstName %> <%= LastName %><i class="bi bi-patch-check-fill text-info small"></i></h1>
                                <p class="profile-tag">@<%= UserName %></p>
								<h5>
									<p class="profile-tag">
									ASFIScholar ID: <a href="https://asfischolar.org/v/<%=ASFI_CODE%>">
										https://asfischolar.org/v/<%=ASFI_CODE%>
									</a></p>
								</h5>
								<%- include ("userSubmenu") %>

							</div>
							<!-- Button -->
                            <div class="dropdown dash_upload">
                                <span class="assets_button" id="profileDropdown" role="button" data-bs-auto-close="outside" data-bs-display="static" data-bs-toggle="dropdown" aria-expanded="false"><i class="fas fa-graduation-cap"></i>Take a Course</span>
                                <ul class="dropdown-menu dropdown-animation dropdown-menu-end shadow pt-3" aria-labelledby="profileDropdown">
                                    <li><a class="dropdown-item" href="/courses"><i class="fa fa-graduation-cap fa-fw me-2"></i>Enroll for a Course</a></li>
					<li><a class="dropdown-item" href="/tutorials"><i class="fas fa-tv fa-fw me-2"></i>Watch Tutorials</a></li>
                                </ul>
							</div> 
						</div>
					</div>
				</div>
				<!-- Profile banner END -->

                <!-- Advanced filter responsive toggler START -->
				<!-- Divider -->
				<hr class="d-xl-none">
				<div class="col-12 col-xl-3 d-flex justify-content-between align-items-center">
					<a class="h6 mb-0 fw-bold d-xl-none" href="#">Menu</a>
					<button class="btn btn-primary d-xl-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar">
						<i class="fas fa-sliders-h"></i>
					</button>
				</div>
				<!-- Advanced filter responsive toggler END -->

			</div>
		</div>
	</div>
</section>
<!-- =======================
Page Banner END -->

<!-- =======================
Page content START -->
<section class="pt-0">
	<div class="container">
		<div class="row">

			<!-- Left sidebar START -->
			<div class="col-xl-3">
				<!-- Responsive offcanvas body START -->
				<div class="offcanvas-xl offcanvas-end" tabindex="-1" id="offcanvasSidebar">
					<!-- Offcanvas header -->
					<div class="offcanvas-header bg-light">
						<h5 class="offcanvas-title" id="offcanvasNavbarLabel">My profile</h5>
						<button  type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#offcanvasSidebar" aria-label="Close"></button>
					</div>
					<!-- Offcanvas body -->
					<div class="offcanvas-body p-3 p-xl-0">
						<div class="bg-dark border rounded-3 pb-0 p-3 w-100">
							<!-- Dashboard menu -->
							<div class="list-group list-group-dark list-group-borderless">
								<a class="list-group-item" href="/dashboard"><i class="bi bi-ui-checks-grid fa-fw me-2"></i>Dashboard</a>
								<a class="list-group-item" href="/userCourses"><i class="bi bi-basket fa-fw me-2"></i>My Courses</a>
								<a class="list-group-item" href="/myresults"><i class="bi bi-basket fa-fw me-2"></i>My Results</a>
								<a class="list-group-item active" href="/settings"><i class="bi bi-pencil-square fa-fw me-2"></i>Edit Profile</a>
								<a class="list-group-item text-warning" href="/becomeScholar"><i class="bi bi-pencil-square fa-fw me-2"></i>Become a Scholar</a>
								<a class="list-group-item" href="/deleteAccount"><i class="bi bi-trash fa-fw me-2"></i>Delete Profile</a>
								<a class="list-group-item text-danger bg-danger-soft-hover" href="/logout"><i class="fas fa-sign-out-alt fa-fw me-2"></i>Sign Out</a>
							</div>
						</div>
					</div>
				</div>
				<!-- Responsive offcanvas body END -->
			</div>
			<!-- Left sidebar END -->

			<!-- Main content START -->
			<div class="col-xl-9">
				<!-- Edit profile START -->
				<div class="card bg-transparent border rounded-3">
					<div class="card-header bg-transparent border-bottom edit">
						<h3 class="card-header-title mb-0">Edit Profile</h3>
						<span class="edit-button" id="profile-edit">Edit</span>
					</div>
					<!-- Card body START -->
					<div class="card-body">
						<!-- Form -->
                        <h6 class="Bio-data">Bio Data</h6>
						<form class="row g-4" id="form1" onsubmit="return false" method="post">
                            <input type="text" name="usernameValidator" id="usernameValidator" value="<%= UserName %>" readonly hidden>
                                <input type="text" name="user" id="user" value="<%= validPoint %>" readonly hidden>

							<!-- Profile picture -->
							<div class="col-12 justify-content-center align-items-center">
                                
								<label class="form-label">Profile picture</label>
								<div class="d-flex align-items-center">
									<label class="position-relative me-4" for="uploadfile-1" title="Replace this pic">
										<!-- Avatar place holder -->
										<span class="avatar avatar-xl">
											<% if(ProfileImage == "avatar.jpg"){ %>
												<img class="avatar-img rounded-circle border border-white border-3 shadow" src="https://eu.ui-avatars.com/api/?background=random&name=<%= FirstName %>+<%= LastName %>&font-size=0.5&rounded=true&size=128&background=333333&color=ffffff" alt='<%= ProfileImage %> '>
												<% } else { %>
				
												<img class="avatar-img rounded-circle border border-white border-3 shadow"
												src="<%=ProfileImage%>" alt="<%=ProfileImage%>">
												<% }%>
										</span>
										<!-- Remove btn -->
										<button type="button" class="uploadremove"><i class="bi bi-x text-white"></i></button>
									</label>
									<!-- Upload button -->
									<label class="btn btn-primary-soft mb-0 edit-image" for="uploadfile-1">Change</label>
									<!-- <input id="uploadfile-1" class="form-control d-none" type="file"> -->
								</div>
							</div>

							<!-- Full name -->
							<div class="col-12" id="prf">
								<label class="form-label">Full name</label>
								<div class="input-group">
									<input type="text" class="form-control" name="firstname" id="firstname" class='profile_input_field' value="<%= FirstName %>">
									<input type="text" class="form-control" name="lastname" id="lastname" class='profile_input_field' value="<%= LastName %>">
								</div>
							</div>

							<!-- Username -->
							<div class="col-md-6">
								<label class="form-label">Username</label>
								<div class="input-group">
									<span class="input-group-text">AsfiScholar</span>
									<input type="text" class="form-control" name="username" id="username" class='profile_input_field' value="<%= UserName %>">
								</div>
							</div>

                            <div class="col-md-6 gender_settings">
                                <label class="form-label" name="gender">Gender</label>
                                <span><input class="" type="radio" name="gender" id="gender">Male</span>
                                <span><input class="" type="radio" name="gender" id="gender">Female</span>
                                <span><input class="" type="radio" name="gender" id="gender">Prefer not to say</span>
                            </div>

							<!-- Phone number -->
							<div class="col-md-6">
								<label class="form-label">Phone number</label>
                                <% if(PhoneNumber != 0){ %>
                                    <input type="number" name="phonenumber" id="phonenumber" class='form-control' value="<%=PhoneNumber %>" minlength=11 maxlength="20" readonly>
                                    <%} else {%>
                                    <input type="number" name="phonenumber" id="phonenumber" class='form-control' placeholder="Not Applicable" minlength=11 maxlength="20" readonly>
                                    <% } %>
							</div>

							<!-- Location -->
							<div class="col-md-6">
								<label class="form-label">Location</label>
								<% if(HomeAddress !="" && HomeAddress != "N/A"){ %>
								<select class="form-control" name="newLocation" id="newLocation">
									<option value="<%=HomeAddress%>"><%=HomeAddress%></option>
								</select>
								<% } else { %>
									<select class="form-control" name="newLocation" id="newLocation">
										<option value="">Select a Country</option>
									</select>
								<%}%>
							</div>
							
							<!-- About me -->
							<div class="col-12">
								<label class="form-label">Bio</label>
								<%if(bio != "") {%>
								<textarea class="form-control" rows="3" name="bio" id="bio"><%=bio%></textarea>
								<%} else { %>
								<textarea class="form-control" rows="3" name="bio" id="bio" value=""></textarea>
								<div class="form-text">Brief description for your profile.</div> 
									<%}%>
							</div>
							<input class="btn btn-sm btn-light mb-0 add-more" hidden></input>

							<!-- Save button -->
							<div class="d-sm-flex justify-content-end">
								<button type="submit" class="btn btn-primary mb-0" id="mainSaveChanges" disabled>Save changes</button>
							</div>
						</form>
					</div>
					<!-- Card body END -->
				</div>
				<!-- Edit profile END -->
				
				<div class="row g-4 mt-3">
					<!-- Course Details START -->
					<div class="col-lg-6">
						<div class="card bg-transparent border rounded-3">
							<!-- Card header -->
							<div class="card-header bg-transparent border-bottom">
								<h5 class="card-header-title mb-0">Course Details </h5>
								<%if(Course != "N/A" && Course != "") { %>
									%><span><a href="/mycourses"> more Courses</a></span>
								<% } %>
							</div>
							<!-- Card body START -->
							<div class="card-body pb-0">
							<ul style="list-style-type: none;">
								<% if(Course != "N/A" && Course != "") { %>
								<div class="position-relative mb-4 d-sm-flex border p-3 rounded">
									<!-- Title and content -->
								   <div>
										<li>
											<label for="lastname"><b>Course:-</b></label>
											<span>
											<%= CourseAssigned__ %>
											</span>
											</li>
									</div>
								</div>

								
								<div class="mb-4 d-sm-flex border p-3 rounded">
									<!-- Title and content -->
									<div>
										<li>
											<label for="username"><b>Course Year:-</b>
											</label>
											<span>
												<%= SchoolYear %>
											</span>
											
										</li>
									</div>
								</div>

								
								<div class="mb-4 d-sm-flex border p-3 rounded">
									<!-- Title and content -->
									<div>
										<li>
											<label><b>Course Duration:-</b>
											</label>
											<span><%= CourseDuration__  %></span>
											
										</li>
									</div>
								</div>

								<div class="mb-4 d-sm-flex border p-3 rounded">
									<!-- Title and content -->
									<div>
										<li>
											<label><b>Course ID:-</b></label>
											<span><%= CourseId %></span>
										</li>
									</div>
								</div>
								<% } else { %>
									<li>You Arent Enrolled for any course yet</li>
								<%} %>
							</ul>
							</div>
							<!-- Card body END -->
						</div>
					</div>
					<!-- Course Details end -->


					<!-- External profile START -->
					<form class="col-lg-6" id="form2">
						<input type="text" value="<%=UserName%>" id="usernameVal" hidden>
						<div class="card bg-transparent border rounded-3">
							<!-- Card header -->
							<div class="card-header bg-transparent border-bottom edit">
								<h5 class="card-header-title mb-0">External Profiles</h5>
								<span class="edit-button" id="links-edit">Edit</span>
							</div>
							<!-- Card body START -->
							<div class="card-body">
								<!-- LinkedIn username -->
								<div class="mb-3">
									
									<%if(LinkedIn_Link != "N/A" && LinkedIn_Link != "") {%>
										<label class="form-label"><i class="fab fa-linkedin text-facebook me-2"></i>
											<%=LinkedIn_Link%>
										<input class="form-control" type="text" id="link-linkedin" value="<%=LinkedIn_Link%>" placeholder="Enter URL" hidden>

											</label>
									<%} else {%>
										<label class="form-label"><i class="fab fa-linkedin text-facebook me-2"></i>
									Enter LinkedIn profile URL</label>
										<input class="form-control" type="text" id="link-linkedin" value="" placeholder="Enter URL">
										<%}%>
									

								</div>
								
								<!-- Facebook username -->
								<div class="mb-3">
									<% if( FacebookLink!= "N/A" &&  FacebookLink != ""){ %>
									<label class="form-label"><i class="fab fa-facebook text-facebook me-2"></i><%=FacebookLink%></label>
									<input class="form-control" type="text" id="link-facebook" value="<%=FacebookLink%>"  hidden>
										<% } else {%>
									<label class="form-label"><i class="fab fa-facebook text-facebook me-2"></i>Enter facebook profile URL</label>
									<input class="form-control" type="text" id="link-facebook" value="" placeholder="Enter URL">
									<%}%>
								</div>
								
								<!-- Twitter username -->
								<div class="mb-3">
									<% if(Twitter_link != "" && Twitter_link !="N/A") { %>
									<label class="form-label"><i class="fab fa-twitter text-twitter me-2"></i><%=Twitter_link%></label>
									<input class="form-control" type="text" value="<%=Twitter_link%>" id="link-twitter" hidden>

										<% } else { %>
									<label class="form-label"><i class="fab fa-twitter text-twitter me-2"></i>Enter X (formally Twitter) profile URL</label>
									<input class="form-control" type="text" value="" id="link-twitter" placeholder="Enter URL">
									<% }%>
								</div>

								<!-- Instagram username -->
								<div class="mb-3">
									<% if(Instagram != "N/A" && Instagram != "") { %>
										<label class="form-label"><i class="fab fa-instagram text-instagram-gradient me-2"></i><%=Instagram%></label>
									<input class="form-control" type="text" value="<%=Instagram%>" id="link-instagram" hidden>

										<%} else{ %>
									<label class="form-label"><i class="fab fa-instagram text-instagram-gradient me-2"></i>Enter instagram profile URL</label>
									<input class="form-control" type="text" value="" id="link-instagram" placeholder="Enter URL">
									<% } %>
								</div>

							
								<!-- Button -->
								<div class="d-flex justify-content-end mt-4">
									<button type="submit" class="btn btn-primary mb-0" id="linkSubmit" disabled>Save changes</button>
								</div>
							</div>
							<!-- Card body END -->
						</div>
					</form>
					<!-- External profile END -->

					<!-- EMail change START -->
					<form class="col-lg-6" id="form3">
						<div class="card bg-transparent border rounded-3">
							<!-- Card header -->
							<div class="card-header bg-transparent border-bottom edit">
								<h5 class="card-header-title mb-0">Update email</h5>
								<span class="edit-button" id="email-edit">Edit</span>
							</div>
							<!-- Card body -->
							<div class="card-body">
								<p>Your current email address is <span class="text-primary"><%= Email %></span></p>
								<!-- Email -->
								<form>
									<label class="form-label">Enter your new email id</label>
									<input class="form-control" type="email" id="email" placeholder="Enter new email">
									<div class="d-flex justify-content-end mt-4">
										<button type="button" class="btn btn-primary mb-0" id="updateEmail" disabled>Update Email</button>
									</div>
								</form>
							</div>
						</div>
					</form>
					<!-- EMail change end -->

					<!-- Password change START -->
					<form class="col-lg-6" id="form4" >
						<input type="text" id="username_p" name="username" value="<%= UserName %>" hidden readonly>
						<div class="card border bg-transparent rounded-3">
							<!-- Card header -->
							<div id="warningDiv" style="color:red"></div>
							<div class="card-header bg-transparent border-bottom edit">
								<h5 class="card-header-title mb-0">Update password</h5>
								<span class="edit-button" id="password-edit">Edit</span>
							</div>
							<!-- Card body START -->
							<div class="card-body">
								<!-- Current password -->
								<div class="mb-3">
									<label class="form-label">Current password</label>
									<input class="form-control" type="password" id="currentPassword" placeholder="Enter current password" required>
								</div>
								<!-- New password -->
								<div class="mb-3">
									<label class="form-label"> Enter new password</label>
									<div class="input-group">
										<input class="form-control" type="password" id="password_1"placeholder="Enter new password" required>
										<span class="input-group-text p-0 bg-transparent">
											<i class="far fa-eye cursor-pointer p-2 w-40px"></i>
										</span>
									</div>
									<div class="rounded mt-1" id="psw-strength"></div>
								</div>
								<!-- Confirm password -->
								<div>
									<label class="form-label">Confirm new password</label>
									<input class="form-control" type="password" id="NewPassword" name="NewPassword" placeholder="Enter new password" required>
								</div>
								<!-- Button -->
								<div class="d-flex justify-content-end mt-4">
									<button type="submit" id="submitMain" hidden></button>
									<button type="button" class="btn btn-primary mb-0" id="submitPassword" disabled>Change password</button>
								</div>
							</div>
							<!-- Card body END -->
						</div>
					</form>
					<!-- Password change end -->
				</div>
			</div>
			<!-- Main content END -->
		</div><!-- Row END -->
	</div>
</section>
<!-- =======================
Page content END -->

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- =======================
Footer START -->
<footer class="bg-dark p-3">
	<div class="container">
		<div class="row align-items-center">
            <!-- Widget -->
            <div><script src="/js/footer.js"></script></div>
			<!-- Widget -->
		</div>
	</div>
</footer>
<!-- =======================
Footer END -->


<!-- Back to top -->
<div class="back-top"><i class="fas fa-arrow-up position-absolute top-50 start-50 translate-middle"></i></div>
<!-- Vendors -->

<script src="/vendor/tiny-slider/tiny-slider.js"></script>
<script src="/vendor/glightbox/js/glightbox.js"></script>
<!-- Bootstrap JS -->
<script src="/js/bootstrap/bootstrap.bundle.min.js"></script>
<script src="/js/updateAccountData.js"></script>
<script src="/js/functions.js"></script>

<script src="/js/jquery-3.4.1.min.js"></script>
<script src="/js/mainjs.js"></script>
<script src="/js/userProfile.js"></script>
<script src="/js/editProfile.js"></script>

<script>
        document.addEventListener('DOMContentLoaded', function () {
          const loader = document.getElementById('custom-loader');
    
              setTimeout(() => {
                loader.classList.add('hide');
              }, 500); // optional delay for smoother transition
            
          });
      
      </script>
</body>

</html>