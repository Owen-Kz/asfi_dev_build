<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Weperch Technologies Ltd">
	<meta name="description" content="ASFI, African Science Frontiers Initiatives, African Scientists, African Scholars, Scholars, Education">
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href="/css/scholarDashboard.css">
    <link rel="stylesheet" href="/css/general.css">
   
    
     <!-- Favicon -->
	 <link rel="shortcut icon" href="https://res.cloudinary.com/dll8awuig/image/upload/v1741165624/asfi_icon_hv7hav.png">

    <link rel="stylesheet" href="/css/css/fontawesome.css">
    <link rel="stylesheet" href="/css/css/fontawesome-all.css">

    <link rel="stylesheet" href="/css/material-design-iconic-font.css">
    <!-- <link rel="stylesheet" href="/css/themify-icons.css"> -->
    <link rel="stylesheet" href="/css/weather-icons/css/weather-icons-core.css">
	

    <title><%= UserName %> | Dashboard</title>
    <!-- Dark mode -->
	<script src="/js/colorTheme.js"></script>
	<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-32YRZWEG3P"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
 
  gtag('config', 'G-32YRZWEG3P');
</script>
</head>
<body>
<!-- loader goes here -->
<input type="hidden" value="<%=Username%>" id="usernameContainer" readonly>
<input type="hidden" id="profilePhoto" value="<%=ProfileImage%>" readonly>

	<%- include ("bookUploadModal") %>

	<%- include ("podcastUploadModal") %>
      

    <!-- Header START -->
<%- include("header") %>
<!-- Header END -->



<!-- **************** MAIN CONTENT START **************** -->
 <!-- =======================
Page Banner START -->
<!-- <section class="pt-0" style="z-index: 9999;">
	

</section> -->
<!-- =======================
Page Banner END -->

<main class="scholar_main">

	 <!-- NAVIGATION BAR  -->
	 <sidebar class="left-navigation-bar">
		<%if(accountType == "scholar_account") {%>
			
			<%- include('scholarNavbar') %>
			<% } else if(accountType == "user_account"){%>
				
				<%- include ("navbar") %>
			<%} else if(accountType == "instructor_account") {%>
				<%- include ("instructorNavbar") %>
	
				<% } else if(accountType == "administrator") {%>
				   <%- include ("adminNavbar") %>
				   <% } %>
				   
							<!-- Widget -->
							<div><script src="/js/footer.js"></script></div>
							<!-- Widget -->
					
	</sidebar>
	<!-- END NAVIGATION BAR  -->
	
<!-- =======================
Page content START -->
<section class="pt-0 left_side">
	<div class="container">
        <!-- Button -->
							<div class="dropdown dash_upload">
							
                                <span href="#" class="assets_button" id="profileDropdown" role="button" data-bs-auto-close="outside" data-bs-display="static" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa fa-edit"></i> Upload Resources</span>
                                <ul class="dropdown-menu dropdown-animation dropdown-menu-end shadow pt-3" aria-labelledby="profileDropdown">
                                    <li><a class="dropdown-item" href="#" id="BookUploadBtn"><i class="fa fa-book fa-fw me-2"></i>Upload Publication/Book</a></li>
					<li><a class="dropdown-item" href="#" id="PodcastUploadBtn"><i class="fas fa-microphone fa-fw me-2"></i>Upload Podcast</a></li>
                                </ul>
							</div> 
		<div class="row">
			<!-- Main content START -->
			<div class="col-xl-15">
				<!-- Main content START -->
			<div class="col-xl-15">
				<!-- Card START -->
				<div class="card border bg-transparent rounded-3">
					<!-- Card header START -->
					<div class="card-header bg-transparent border-bottom">
						<h3 class="mb-0">My Resources</h3>
					</div>
					<!-- Card header END -->

					<!-- Card body START -->
					<div class="card-body">

						<!-- Search and select START -->
						<div class="row g-3 align-items-center justify-content-between mb-4">
							<!-- Search -->
							<div class="col-md-8">
								<form class="rounded position-relative" id="searchResources">
									<input class="form-control pe-5 bg-transparent" type="search" name="searchForResources" id="searchForResources" placeholder="Search" aria-label="Search">
								<button class="bg-transparent p-2 position-absolute top-50 end-0 translate-middle-y border-0 text-primary-hover text-reset" type="submit">
								<i class="fas fa-search fs-6 "></i>
							</button>
								</form>
							</div>

							<!-- Select option -->
							<div class="col-md-3">
								<!-- Short by filter -->
								<form id="filterByType">
									<select class="form-select js-choice border-0 z-index-9 bg-transparent" aria-label=".form-select-sm" id="filterType" name="filterType">
										<option value="">Sort by</option>
										<option value="book">Books</option>
										<option value="podcast">Podcasts</option>
										<option value="publication">Publications</option>
										<option value="tutorial">Tutorials</option>
									</select>
									<input type="submit" hidden id="submitFilter">
								</form>
							</div>
						</div>
						<!-- Search and select END -->

						<!-- Course list table START -->
						<div class="table-responsive border-0">
							<!-- Table START -->
							<%- include ("assetsList") %>
							<!-- Table END -->
						</div>
						<!-- Course list table END -->

						
					</div>
					<!-- Card body START -->
				</div>
				<!-- Card END -->
			</div>
			<!-- Main content END -->
			</div>
			<%- include("chatNotifications.ejs") %>
		

           
			<!-- Main content END -->
		</div><!-- Row END -->

		
	</div>
    
</section>
<!-- =======================
Page content END -->

<!--Edit Modal START -->
<%- include ("editResourceModal") %>
<!-- Edit Modal END -->

<!-- Start right section  -->
 <!-- Include Notification panel -->
  <div class="MainRight_side">
<%- include("notificationsPanel.ejs") %>
  </div>
<!--Include Chats Panel-->
<div class="ChatRight_side">
	<%- include("chatsPanel.ejs") %>
</div>
<!-- End right Section  -->

</main>






<!-- **************** MAIN CONTENT END **************** -->

<!-- =======================
Footer START -->

<!-- =======================
Footer END -->
<script src="/js/jquery-3.4.1.min.js"></script>
<script src="/js/mainjs.js"></script>
  <script src="/js/scholarControls/uploadBook.js"></script>
  <script src="/js/scholarControls/uploadPodcast.js"></script>
  <script src="/js/getNotifications.js"></script>
  <script src="/js/getChatNotifications.js"></script>
  <script src="/js/getTotalPublications.js"></script>
  <script src="/js/getFormEdit.js"></script>
<!-- Back to top -->
<div class="back-top"><i class="fas fa-arrow-up position-absolute top-50 start-50 translate-middle"></i></div>

<!-- Bootstrap JS -->
<script src="/js/bootstrap/bootstrap.bundle.min.js"></script>

<!-- Vendors -->
<script src="/vendor/tiny-slider/tiny-slider.js"></script>
<script src="/vendor/glightbox/js/glightbox.js"></script>
<script src="/js/functions.js"></script>
<script src="/js/fetchFiles.js"></script>

<script type="module" src="/js/services/main.js"></script>
<script>
	const notifications = document.querySelector("#notifications");
	const chats = document.querySelector("#chats");
	const notificationsPanel = document.querySelector(".MainRight_side");
	const chatsPanel = document.querySelector(".ChatRight_side");
	const closeButtonNotification = document.querySelector(".close_button_notification");
	const closeButtonChat = document.querySelector(".close_button_chat");
	notifications.addEventListener("click", () => {
    notificationsPanel.classList.toggle("visible");
	chatsPanel.classList.remove("visible");
});
chats.addEventListener("click", () => {
    chatsPanel.classList.toggle("visible");
	notificationsPanel.classList.remove("visible");
});
closeButtonNotification.addEventListener("click", function(){
    notificationsPanel.classList.toggle("visible");
})
closeButtonChat.addEventListener("click", function(){
    chatsPanel.classList.toggle("visible");
})
</script>
<script>
        document.addEventListener('DOMContentLoaded', function () {
          const loader = document.getElementById('custom-loader');
    
              setTimeout(() => {
                loader.classList.add('hide');
              }, 500); // optional delay for smoother transition
            
          });
      
      </script>
</body>


<script>
        document.addEventListener('DOMContentLoaded', function () {
          const loader = document.getElementById('custom-loader');
    
              setTimeout(() => {
                loader.classList.add('hide');
              }, 500); // optional delay for smoother transition
            
          });
      
      </script>
</body>

</html>